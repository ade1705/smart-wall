import {INews} from "./INews";

class NewsRepository
{
	newsURL = 'http://newsapi.org/v2/top-headlines?' +
	'country=us&' +
	'apiKey=d74c6fe39a4e43c6bcc3c8d0569a2e6a';

	async get() {
			let response = await fetch(this.newsURL);
			return await response.json();
	}

	mapResponse = (articles: any): INews[] => articles.map((article:any) => ({
		content: article.content,
		title: article.title,
		urlToImage: article.urlToImage,
		url: article.url,
		source: article.source.name,
		publishedAt: article.publishedAt
	}));

	async getNews() {
		try{
			let response = await this.get();
			return this.mapResponse(response.articles);
		}catch(err){
			let response = {"status":"ok","totalResults":38,"articles":[{"source":{"id":"cnbc","name":"CNBC"},"author":"Silvia Amaro","title":"ECB surprises markets by not cutting rates, but announces stimulus to fight coronavirus impact - CNBC","description":"The European Central Bank decided not to cut interest rates, despite market expectations for a reduction amid the ongoing coronavirus outbreak.","url":"https://www.cnbc.com/2020/03/12/european-central-bank-stimulus-package-amid-coronavirus.html","urlToImage":"https://image.cnbcfm.com/api/v1/image/106110868-1567597166704gettyimages-1165932419.jpeg?v=1567597208","publishedAt":"2020-03-12T14:41:57Z","content":"The European Central Bank decided Thursday not to cut interest rates, despite market expectations for a reduction amid the ongoing coronavirus outbreak.\r\nHowever, the central bank did announce measures to support bank lending and expanded its asset purchase p… [+2753 chars]"},{"source":{"id":null,"name":"Npr.org"},"author":"Avie Schneider","title":"Dow Drops 2100 Points: Stocks In Meltdown After Temporary Trading Halt - NPR","description":"The Dow was down more than 7%, moving deeper into a bear market after trading was halted temporarily. The market continued its dive after President Trump set a 30-day ban on travel from Europe.","url":"https://www.npr.org/2020/03/12/814853898/stocks-in-meltdown-over-trumps-coronavirus-plan","urlToImage":"https://media.npr.org/assets/img/2020/03/12/gettyimages-1206599239_wide-d9f0a11721561c723cb1c712995502539de03209.jpg?s=1400","publishedAt":"2020-03-12T14:38:44Z","content":"After weeks of turmoil over the economic toll of the coronavirus, U.S. stock indexes entered a bear market, signaling an end to their 11-year winning streak.\r\nJeenah Moon/Getty Images\r\nUpdated at 10:56 a.m. ET\r\nThe stock market extended its relentless, breath… [+2962 chars]"},{"source":{"id":"cnn","name":"CNN"},"author":"Mia Alberti, CNN","title":"European Union leaders disapprove of US travel restrictions over coronavirus - CNN","description":"European Union leaders said Thursday they disapprove of President Donald Trump's decision to dramatically restrict travel from parts of Europe to the US amid the coronavirus pandemic.","url":"https://www.cnn.com/2020/03/12/politics/european-leaders-us-travel-coronavirus/index.html","urlToImage":"https://cdn.cnn.com/cnnnext/dam/assets/200311123524-ursula-von-der-leyen-0310-super-tease.jpg","publishedAt":"2020-03-12T14:29:00Z","content":null},{"source":{"id":null,"name":"Buzzfeednews.com"},"author":"David Mack","title":"Stars Are Just As Worried As You About Tom Hanks And Rita Wilson After Their Coronavirus Diagnosis - BuzzFeed News","description":"Marlon Wayans made fun of Hanks for always having to be \"first,\" but Hanks' Toy Story costar Tim Allen had a heartwarming response.","url":"https://www.buzzfeednews.com/article/davidmack/tom-hanks-rita-wilson-coronavirus-celebrities-celebs","urlToImage":"https://img.buzzfeed.com/buzzfeed-static/static/2020-03/12/13/enhanced/18deda50b498/original-2289-1584019071-3.jpg?crop=1246:652;0,0","publishedAt":"2020-03-12T14:24:00Z","content":"The news that Tom Hanks and Rita Wilson were the first famous Americans to become infected with the coronavirus was just as shocking to their celebrity friends as it was to the rest of us.\r\nBut those in Hollywood are letting the sick stars know that they're i… [+1793 chars]"},{"source":{"id":"cnbc","name":"CNBC"},"author":"Kevin Breuninger","title":"House Democrats' coronavirus bill delayed as GOP pushes to include Trump proposals - CNBC","description":"Lawmakers in both parties are scrambling to take action to combat the deadly coronavirus pandemic.","url":"https://www.cnbc.com/2020/03/12/coronavirus-house-republicans-come-out-against-bill-ahead-of-vote.html","urlToImage":"https://image.cnbcfm.com/api/v1/image/106438908-1584019593705gettyimages-1205331956.jpeg?v=1584019655","publishedAt":"2020-03-12T14:19:54Z","content":"House Republicans made clear Thursday that they won't support the new emergency coronavirus aid bill unveiled by Democrats at least not in its current form.\r\nLawmakers in both parties are scrambling to take action to combat the deadly coronavirus pandemic.\r\nB… [+2830 chars]"},{"source":{"id":"cnbc","name":"CNBC"},"author":"Yen Nee Lee","title":"6 charts show the coronavirus impact on the global economy and markets so far - CNBC","description":"The spread of a new coronavirus disease — the COVID-19 — is one of the biggest threats to the global economy and financial markets.","url":"https://www.cnbc.com/2020/03/12/coronavirus-impact-on-global-economy-financial-markets-in-6-charts.html","urlToImage":"https://image.cnbcfm.com/api/v1/image/106429987-1583542127331gettyimages-1205431761.jpeg?v=1583832106","publishedAt":"2020-03-12T13:52:37Z","content":"The ongoing spread of the new coronavirus has become one of the biggest threats to the global economy and financial markets.\r\nThe virus, first detected in the Chinese city of Wuhan last December, has infected more than 110,000 people in at least 110 countries… [+5401 chars]"},{"source":{"id":null,"name":"Witn.com"},"author":"WITN","title":"Three more cases of coronavirus diagnosed in North Carolina; 12 total - WITN","description":"Governor Cooper says three more people in North Carolina have tested positive for coronavirus. During the same briefing, a health official says they continue to investigate the source of the newest one.","url":"https://www.witn.com/content/news/Eight-cases-of-coronavirus-now-in-NC-after-another-person-tests-positive-568720671.html","urlToImage":"https://media.graytvinc.com/images/north+carolina+coronavirus.jpg","publishedAt":"2020-03-12T13:44:36Z","content":"RALEIGH, NC (WITN) - Governor Cooper says three more people in North Carolina have tested positive for coronavirus. \r\nDuring a briefing Thursday morning, State Health Director Dr. Elizabeth Tilson says there are 12 confirmed cases in the state. Tilson says al… [+2267 chars]"},{"source":{"id":"fox-news","name":"Fox News"},"author":"Tyler McCarthy","title":"Kate Beckinsale reveals Harvey Weinstein screamed at her for not dressing sexy on a post-9/11 red carpet - Fox News","description":"Kate Beckinsale shared a shocking story about verbal abuse and sexual harassment she said she endured from the now-convicted rapist and former movie mogul Harvey Weinstein.","url":"https://www.foxnews.com/entertainment/kate-beckinsale-harvey-weinstein-screamed-sexy-911-red-carpet","urlToImage":"https://static.foxnews.com/foxnews.com/content/uploads/2019/04/GettyImages-1128400678.jpg","publishedAt":"2020-03-12T13:17:18Z","content":"Kate Beckinsale shared a shocking story about verbal abuse and sexual harassment she said she endured from the now-convicted rapist and former movie mogul Harvey Weinstein.\r\nWeinstein, who has been accused of violating scores of women, was convicted last mont… [+4424 chars]"},{"source":{"id":null,"name":"Youtube.com"},"author":null,"title":"Pence joins 'Fox & Friends' to detail Trump's Europe travel ban - Fox News","description":"Vice President Mike Pence says there will be thousands more US cases but majority won't be serious. Pence discusses what's being done to prevent community sp...","url":"https://www.youtube.com/watch?v=AcwCz77_be0","urlToImage":"https://i.ytimg.com/vi/AcwCz77_be0/maxresdefault.jpg","publishedAt":"2020-03-12T13:15:08Z","content":"[[getSimpleString(data.title)]]\r\n[[getSimpleString(data.description)]]\r\n[[getSimpleString(data.videoCountText)]]"},{"source":{"id":"usa-today","name":"USA Today"},"author":"Scott Gleeson","title":"ESPN college basketball analyst Jay Bilas: Time to 'postpone the NCAA tournament or cancel it altogether' - USA TODAY","description":"ESPN college basketball analyst Jay Bilas says the NCAA should \"postpone the NCAA tournament or cancel it altogether.\"","url":"https://www.usatoday.com/story/sports/ncaab/2020/03/12/coronavirus-jay-bilas-says-ncaa-needs-postpone-tournament/5030048002/","urlToImage":"https://www.gannett-cdn.com/presto/2020/03/12/USAT/14b945af-c80b-448c-aa51-99324486167f-C01_Jay_Bilas_2.JPG?crop=1424,801,x301,y387&width=1600&height=800&fit=bounds","publishedAt":"2020-03-12T12:54:56Z","content":"SportsPulse: With the increased spread of COVID-19, otherwise known as coronavirus, across the country the NCAA made the historic decision to have March Madness without fans attending the games. A decision that will create some eerie and surreal scenes in the… [+3082 chars]"},{"source":{"id":null,"name":"Yahoo.com"},"author":null,"title":"Carnival's Princess Cruises suspends global operations for 2 months on coronavirus fears - Yahoo Finance","description":null,"url":"https://finance.yahoo.com/news/carnivals-princess-cruises-suspends-global-125121046.html","urlToImage":"https://s.yimg.com/cv/apiv2/social/images/yahoo_default_logo.png","publishedAt":"2020-03-12T12:51:00Z","content":"March 12 (Reuters) - Carnival Corp's Princess Cruises, the operator of two coronavirus-stricken ships, said on Thursday it would suspend global operations of its 18 cruise ships for two months due to the outbreak.\r\nThe cruise line said the suspension was out … [+91 chars]"},{"source":{"id":null,"name":"Vox.com"},"author":"Sean Illing","title":"Coronavirus: What is going on with the stock market? - Vox.com","description":"A former Fed economist explains the economic fallout from  the coronavirus.","url":"https://www.vox.com/policy-and-politics/2020/3/12/21173599/coronavirus-stock-market-economy-claudia-sahm","urlToImage":"https://cdn.vox-cdn.com/thumbor/L6pP5MX6R-cj9E4l6uBtMTk8nSo=/0x0:6240x3267/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/19782791/1211574705.jpg.jpg","publishedAt":"2020-03-12T12:37:11Z","content":"The stock market has been in a free fall the last week or so as fears around the coronavirus spread across the global economy. And today, after President Trump announced his travel ban last night, stocks plunged once again.\r\nIf you dont follow the market that… [+7978 chars]"},{"source":{"id":null,"name":"9to5google.com"},"author":null,"title":"Samsung One UI 2.1 update set to come to Galaxy S10, Note plus S9 and Note 9 - 9to5Google","description":"The One UI 2.1 is set to come to older Galaxy devices in the coming months, but will likely come with few major improvements to the Android 10 build.","url":"https://9to5google.com/2020/03/12/one-ui-2-1-s10-s9-note-9-note-10/","urlToImage":"https://9to5google.com/wp-content/uploads/sites/4/2020/03/One-UI-2.1-Samsung-Community-confirmation.png?w=700","publishedAt":"2020-03-12T12:35:59Z","content":"The release of the Samsung Galaxy S20 series also saw a minor bump up in One UI to version 2.1. At the moment, only four devices now run the slightly modified build of Android 10, but as expected, that is set to increase as Samsung is set to bring the update … [+1261 chars]"},{"source":{"id":"politico","name":"Politico"},"author":"GARY FINEOUT","title":"Florida poll shows Biden with staggering 44-point lead over Sanders - POLITICO","description":"It’s &quot;a bleak picture&quot; for Sanders going into March 17 primary.","url":"https://www.politico.com/states/florida/story/2020/03/12/new-poll-shows-biden-with-a-staggering-44-point-lead-over-sanders-1266598","urlToImage":"https://static.politico.com/c0/8a/cd473f2e407892b340db247a4c34/0311biden.jpg","publishedAt":"2020-03-12T12:22:31Z","content":"Joe Biden. | AP Photo/Matt Rourke\r\nTALLAHASSEE Joe Biden is in line to deliver a knockout punch to Bernie Sanders in Florida in Tuesdays Democratic primary, according to a new poll that gives the former vice president a staggering 44-point lead over his oppon… [+2565 chars]"},{"source":{"id":"the-verge","name":"The Verge"},"author":"Nick Statt","title":"Cloud gaming provider Shadow lowers price to $11.99 a month - The Verge","description":"Cloud gaming service Shadow, from the French startup Blade, is drastically lowering its price in a bid to compete with Google Stadia and Nvidia GeForce Now. Now, you can subscribe to Shadow for $11.99 a month, $24.99 a month, or $39.99 a month, depending on h…","url":"https://www.theverge.com/2020/3/12/21176310/shadow-cloud-gaming-service-price-lower-google-stadia-nvidia-geforce-now","urlToImage":"https://cdn.vox-cdn.com/thumbor/BXkjE6I5coRb8ZPZNH9v344V11s=/0x124:2284x1320/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/19787258/Screen_Shot_2020_03_12_at_12.56.25_AM.png","publishedAt":"2020-03-12T12:12:40Z","content":"Shadow now offers multiple price points for its cloud gaming subscription\r\nImage: Shadow\r\nCloud gaming service Shadow, from the French startup Blade, is drastically lowering its price in a bid to compete with a new wave of platforms from Google and Nvidia. No… [+3638 chars]"},{"source":{"id":null,"name":"Livescience.com"},"author":"Yasemin Saplakoglu","title":"Earth had shorter days when dinosaurs lived, ancient shells show - Livescience.com","description":"When dinosaurs still left fresh footprints on the mud, our planet twirled around faster than it does today.","url":"https://www.livescience.com/earth-shorter-days-millions-years-ago.html","urlToImage":"https://cdn.mos.cms.futurecdn.net/DF89bfFR38xYmTTi3G48tc-1200-80.jpg","publishedAt":"2020-03-12T12:09:00Z","content":"When dinosaurs still left fresh footprints on the mud, our planet twirled around faster than it does today. Chronicled in the rings of an ancient timekeeper is a story of days half an hour shorter and years a week longer than they are today, according to a ne… [+3841 chars]"},{"source":{"id":null,"name":"Nytimes.com"},"author":"Liam Stack","title":"St. Patrick’s Day Parade Is Postponed in New York Over Coronavirus Concerns - The New York Times","description":"It is the first time the event, which draws about 150,000 marchers and two million spectators, will not go on as planned in more than 250 years.","url":"https://www.nytimes.com/2020/03/11/nyregion/new-york-st-patricks-day-parade-canceled.html","urlToImage":"https://static01.nyt.com/images/2020/03/11/nyregion/St-PatricksParade-HFO/St-PatricksParade-HFO-facebookJumbo.jpg","publishedAt":"2020-03-12T11:40:14Z","content":"People crowded on the subway to get to the parade or on Metro-North for example, people going to a bar afterward, Mr. de Blasio said. Thats what we are assessing right now. \r\nNeil Cosgrove, an official with the Ancient Order of Hibernians, an Irish diaspora g… [+1339 chars]"},{"source":{"id":"cnn","name":"CNN"},"author":"By CNN Business","title":"Wall Street's roller coaster week continues: Live updates - CNN","description":"The stock market's roller coaster week continues as investors continue to worry about the coronavirus outbreak. Go here for the latest updates on the Dow, S&P 500, companies and more.","url":"https://www.cnn.com/business/live-news/stock-market-news-today-031220/index.html","urlToImage":"https://cdn.cnn.com/cnnnext/dam/assets/200311104114-stock-market-worry-0309-super-tease.jpg","publishedAt":"2020-03-12T11:38:00Z","content":"Trading was briefly halted for the second time this week as stocks dropped following the president's travel ban speech.\r\nThe New York Stock Exchange has a series of \"circuit breakers\" in place to calm investors' nerves when they're panicked.\r\nStocks tripped a… [+615 chars]"},{"source":{"id":"fox-news","name":"Fox News"},"author":"Ryan Gaydos","title":"NBA stars react as coronavirus puts season on hold: 'What we really need to cancel is 2020' - Fox News","description":"LeBron James led the player reaction Wednesday after the NBA decided to suspend the season when a player from the Utah Jazz tested positive for coronavirus.","url":"https://www.foxnews.com/sports/nba-stars-react-coronavirus-season-hold","urlToImage":"https://static.foxnews.com/foxnews.com/content/uploads/2020/03/CV-NBA-fans.jpg","publishedAt":"2020-03-12T11:33:11Z","content":"LeBron James led the players' reaction Wednesday after the NBA decided to suspend the season when a player from the Utah Jazz tested positive for coronavirus.\r\nJames tweeted “we really need to cancel” 2020 and called the start of the new year “rough.”\r\nUTAH J… [+3385 chars]"},{"source":{"id":null,"name":"Cosmopolitan.com"},"author":"Mehera  Bonner","title":"Reality Steve Speaks Out on Rumors Peter Weber and Kelley Flanagan Are Secretly Hooking Up - Cosmopolitan.com","description":"I'm 👀.","url":"https://www.cosmopolitan.com/entertainment/tv/a31422394/peter-weber-kelley-flanagan-hooking-up-rumors/","urlToImage":"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/i4gghws8-1584010637.jpg?crop=1xw:0.8888888888888888xh;center,top&resize=1200:*","publishedAt":"2020-03-12T11:13:00Z","content":"<ul><li>Reality Steve commented on rumors Kelley Flanagan and Bachelor Peter Weber are secretly low-key dating.</li><li>Peter and Madison got back together (ish?) during The Bachelor finale.</li></ul><ol></ol>\r\nA lot of rumors and speculation have been floati… [+1224 chars]"}]};
			return this.mapResponse(response.articles);
		}
	}

}

export default new NewsRepository();
